# TRC Quant Trading Bot Configuration

# Data Pipeline
data:
  symbol: "BTCUSDT"
  rolling_window_hours: 12
  tick_buffer_size: 100000
  parquet_roll_minutes: 60
  raw_data_dir: "data/raw"
  processed_data_dir: "data/processed"
  
# Binance API (always use live market data)
binance:
  use_testnet: false  # Always use live mainnet data
  mainnet_ws_url: "wss://stream.binance.com:9443/ws"
  api_key_env: "BINANCE_API_KEY"
  api_secret_env: "BINANCE_API_SECRET"
  
# Model Training
training:
  model_type: "lightgbm"
  train_freq_minutes: 15
  prediction_horizon_minutes: 5
  min_training_rows: 720  # 12h * 60min
  validation_split: 0.2
  
  # LightGBM hyperparameters
  lightgbm_params:
    num_leaves: 31
    max_depth: 5
    learning_rate: 0.05
    n_estimators: 500
    boosting_type: "gbdt"
    objective: "regression"
    metric: "rmse"
    verbosity: -1
    random_state: 42
    early_stopping_rounds: 50
    
# Features
features:
  rolling_windows:
    - 3
    - 5
    - 15
    - 30
    - 60
  ema_periods:
    - 12
    - 26
    - 60
  rsi_period: 14
  volatility_window: 15
  
# Retraining Policy
retraining:
  scheduled_minutes: 15
  psi_threshold: 0.25
  sharpe_threshold: 0.4
  shadow_mode_minutes: 5
  min_shadow_predictions: 50
  max_model_age_minutes: 30
  
# Execution & Risk
execution:
  paper_trading: true
  order_type: "LIMIT"  # LIMIT or MARKET
  base_capital: 10000.0
  position_size_fraction: 0.1
  target_volatility: 0.02
  max_position_usd: 5000.0
  max_daily_drawdown_pct: 3.0
  
  # Stop-loss and take-profit
  stop_loss_pct: 2.0              # Per-trade stop loss: 2%
  take_profit_pct: 5.0            # Per-trade take profit: 5%
  peak_pnl_drawdown_pct: 20.0     # Kill switch: 20% drawdown from peak PnL
  
  # Cost model
  fee_rate: 0.0004  # Binance taker fee
  slippage_rate: 0.001  # 10 bps
  latency_seconds: 1.0
  
  # Decision thresholds
  min_edge_bps: 50  # minimum 0.5% expected return
  
# Monitoring
monitoring:
  log_dir: "logs"
  metrics_interval_seconds: 60
  alert_channels:
    - "file"  # Options: file, email, slack
  
# Model Registry
model_registry:
  models_dir: "models"
  keep_last_n_models: 10
  
# Database
database:
  sqlite_path: "data/rolling.db"
  
# Backtesting
backtesting:
  initial_capital: 10000.0
  results_dir: "backtests"
